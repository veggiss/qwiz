$(document).ready(()=>{model.questions.forEach(n=>{n.alternatives=n.questionType==="multiple_choice"?JSON.parse(n.alternatives):["","","",""]});let n=new Vue({el:"#app",data:{quiz:model,guessed:!1,page:0,correctAnswers:0,resultMsg:"",finished:!1},mounted:function(){this.renderQuestion()},methods:{answer:function(n){let t=this;if(!t.guessed&&!t.finished){let i=this.quiz.questions[this.page].id,r=this.quiz.id;axios.get(`/api/answer?quizId=${r}&questionId=${i}&guess=${n}`).then(function(i){let r=i.data.correctAnswer;$("#btn_"+r).css("background-color","#28a745");r!==n?t.wrongAnswer(n):t.correctAnswer();t.guessed=!0})}},next:function(){this.guessed&&(this.page<this.quiz.questions.length-1?(["#btn_A","#btn_B","#btn_C","#btn_D","#btn_true","#btn_false"].forEach(n=>$(n).css("background-color","transparent")),this.page++,this.guessed=!1):(this.resultMsg=`${this.correctAnswers} of ${this.quiz.questions.length} questions correct!`,this.finished=!0),this.renderQuestion())},renderQuestion:function(){this.quiz.questions[this.page].questionType==="multiple_choice"?($(".multiple_choice").show(),$(".true_false").hide()):($(".multiple_choice").hide(),$(".true_false").show())},wrongAnswer:function(n){$("#progressBar").append(`<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" role="progressbar" style="width: ${100/model.questions.length}%"></div>`);$("#btn_"+n).css("background-color","#dc3545")},correctAnswer:function(){this.correctAnswers++;$("#progressBar").append(`<div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: ${100/model.questions.length}%"></div>`)}}})});